# ========================================
# CONFIGURACIÓN DE BASE DE DATOS SQLite
# ========================================

# Ruta del archivo de base de datos SQLite con configuración de timeout
spring.datasource.url=jdbc:sqlite:basedatos.db?busy_timeout=30000
spring.datasource.driver-class-name=org.sqlite.JDBC

# SQLite no requiere usuario/contraseña, pero Spring puede pedirlo
spring.datasource.username=
spring.datasource.password=

# ========================================
# CONFIGURACIÓN DE JPA/HIBERNATE
# ========================================

# Dialecto específico para SQLite
spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect

# Estrategia de DDL (create-drop = recrea las tablas cada vez)
# Usa 'create-drop' mientras pruebas, luego cambia a 'update'
spring.jpa.hibernate.ddl-auto=create-drop

# Mostrar las queries SQL en consola (útil para debugging)
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Configuración para generación de IDs compatible con SQLite
spring.jpa.properties.hibernate.id.new_generator_mappings=false
spring.jpa.properties.hibernate.id.db_structure_naming_strategy=legacy

# Deshabilitar constraint de foreign key en DDL (SQLite las maneja diferente)
spring.jpa.properties.hibernate.dialect.storage_engine=innodb
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# ========================================
# CONFIGURACIÓN DE LOGGING
# ========================================

# Nivel de log para SQL (opcional, para ver bindings de parámetros)
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Log de tu aplicación
logging.level.Michaelsoft_Binbows=DEBUG

# ========================================
# CONFIGURACIÓN DE SPRING BOOT
# ========================================

# Puerto del servidor (default 8080)
server.port=8080

# Configuración de encoding
spring.http.encoding.charset=UTF-8
spring.http.encoding.enabled=true
spring.http.encoding.force=true

# ========================================
# CONFIGURACIÓN DE THYMELEAF (si lo usas)
# ========================================

# Deshabilitar cache en desarrollo para ver cambios inmediatos
spring.thymeleaf.cache=false

# ========================================
# CONFIGURACIÓN DE SEGURIDAD
# ========================================

# Si necesitas configurar algo específico de Spring Security
# (Por ahora lo dejas en default)